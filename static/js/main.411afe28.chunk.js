(this["webpackJsonpbias-awareness-platform"]=this["webpackJsonpbias-awareness-platform"]||[]).push([[0],{134:function(e,t,a){e.exports=a(253)},139:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},151:function(e,t,a){e.exports=a.p+"static/media/left-arrow.4d84261b.svg"},152:function(e,t,a){e.exports=a.p+"static/media/right-arrow.913fa54f.svg"},153:function(e,t,a){},248:function(e,t,a){e.exports=a.p+"static/media/info.cffe9e14.svg"},249:function(e,t,a){e.exports=a.p+"static/media/help.8a36d3fb.svg"},250:function(e,t,a){e.exports=a.p+"static/media/x-mark.898b1b0e.svg"},251:function(e,t,a){},253:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(9),r=a.n(c),o=a(53),i=(a(139),a(140),a(141),a(27)),s=a(28),u=a(33),m=a(31),d=(a(142),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).goToLink=function(){window.location.href=e.props.link},e}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:this.props.className},l.a.createElement("button",{className:"button",onClick:this.goToLink},this.props.name))}}]),a}(n.Component)),h=a(120),p=a(92);var E=function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h1",{className:"text-center"}," Activity 1. Bias in Hate Speech Detection "),l.a.createElement("p",null," In this activity, a member of high school board would like to have a feedback about their school facility and faculty. However, following the school policy, the board doesn't want to include feedbacks that include toxic or abusive words. On the other hand, the school board is concerned that some of the underrepresented group of student can be unnecessarily filtered out"),l.a.createElement(h.a,{className:"text-center"},l.a.createElement(p.a,{md:{span:3,offset:2}},l.a.createElement("div",{className:"comment-sample"}," The school lunch is delicious, but I wish the portion could be more fulfilling "),l.a.createElement("div",{className:"comment-label"}," Acceptable comment ")),l.a.createElement(p.a,{md:{span:3,offset:2}},l.a.createElement("div",{className:"comment-sample"}," The school lunch sucks! "),l.a.createElement("div",{className:"comment-label"}," Unacceptable "))),l.a.createElement("p",null," Your task is to create a model that can automatically detect and remove such feedback, while taking the school board concern into consideration"),l.a.createElement("div",{className:"text-center"},l.a.createElement(d,{name:"Start Activity",link:"/bias-awareness-platform/#/visualization"})))},b=a(8),f=a(12),v=a(99),g=a(59),y=(a(143),a(19)),w=a(45),N=a(42),k=a(128),O=a(96),C=function(e){return{type:"SET_SECTION",section:e}},x=function(){var e=l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"white"},l.a.createElement("path",{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm1.25 17c0 .69-.559 1.25-1.25 1.25-.689 0-1.25-.56-1.25-1.25s.561-1.25 1.25-1.25c.691 0 1.25.56 1.25 1.25zm1.393-9.998c-.608-.616-1.515-.955-2.551-.955-2.18 0-3.59 1.55-3.59 3.95h2.011c0-1.486.829-2.013 1.538-2.013.634 0 1.307.421 1.364 1.226.062.847-.39 1.277-.962 1.821-1.412 1.343-1.438 1.993-1.432 3.468h2.005c-.013-.664.03-1.203.935-2.178.677-.73 1.519-1.638 1.536-3.022.011-.924-.284-1.719-.854-2.297z"})),t=[{selector:"",content:function(){return l.a.createElement("div",null,l.a.createElement("h3",{className:"text-center"}," Exploring Abusive Speech Detection "),l.a.createElement("p",null," In this page, you can interactively explore the combination of different datasets and models for the abusive speech detection, and observe how it affect the distribution and fairness of the result"))}},{selector:"#interactive-controller",content:function(){return l.a.createElement("div",null,l.a.createElement("h3",{className:"text-center"}," Dataset and Model "),l.a.createElement("p",null," In this part, you can change the model and dataset used for classification. "),l.a.createElement("p",null,' Try several combinations to see how they interact with each other. Don\'t forget to click the "Build Model" button everytime you want to try the new combination'))}},{selector:".scatter-chart",content:function(){return l.a.createElement("div",null,l.a.createElement("h3",{style:{textAlign:"center"}}," Graph "),l.a.createElement("p",null," This graph plot each of the feedback\u2019s probability of being toxic against the probability of it using AAE dialect. The higher its toxic probability, the higher it chance to be classified as toxic "),l.a.createElement("p",null," The higher its toxic probability, the higher it chance to be classified as toxic. On the other hand, the higher its AAE dialect probability, the higher it is to come from African American students"))}},{selector:"#visual-result",content:function(){return l.a.createElement("div",null,l.a.createElement("h3",{className:"text-center"}," Result Box "),l.a.createElement("p",null," The result box display not only the accuracy result for the model, but also the distribution of each class with each label "))}},{selector:".associated-words",content:function(){return l.a.createElement("div",null,l.a.createElement("h3",{className:"text-center"}," Associated Words "),l.a.createElement("p",null," In this part, you can enter word(s) that you want to include in the dataset. For example, if you inputted 'ugly' and press ENTER, then the dataset will only include tweets that contain the word 'ugly' in it, and exclude the rest."),l.a.createElement("p",null,' Once you put all the words you want to include, don\'t forget to click the "Reload" button to reload the model!'))}}],c=Object(y.c)((function(e){return e.section})),r=Object(y.b)(),o=Object(n.useState)(!1),i=Object(f.a)(o,2),s=i[0],u=i[1];function m(){u(!0)}function d(e){switch(console.log(e),e){case 1:window.location.replace("/bias-awareness-platform/#/visualization"),r(C(1));break;case 2:window.location.replace("/bias-awareness-platform/#/test"),r(C(2));break;case 3:alert("This page is not available. For now")}}return Object(n.useEffect)((function(){window.location.href.includes("test")?r(C(2)):window.location.href.includes("visualization")&&r(C(1))})),l.a.createElement(v.a,{className:"justify-content-center",id:"navbar"},l.a.createElement(v.a.Brand,{id:"navbar-brand"},"Bias Awareness Platform"),l.a.createElement(h.a,{className:"mx-auto"},l.a.createElement(p.a,{className:"d-flex align-middle"},c>1?l.a.createElement("img",{src:a(151),alt:"",onClick:function(){return d(c-1)}}):l.a.createElement("span",null)),l.a.createElement(p.a,null,l.a.createElement(g.a,{title:["1. Visualization","2. Debiasing","3. Discussion"][c-1],className:"text-left",id:"navbar-dropdown"},l.a.createElement(g.a.Item,{href:"/bias-awareness-platform/#/visualization"},"1. Visualization"),l.a.createElement(g.a.Item,{href:"/bias-awareness-platform/#/test"}," 2. Debiasing "),l.a.createElement(g.a.Item,{onClick:function(){alert("This page is not available. For now")}},"3. Discussion "))),l.a.createElement(p.a,{className:"d-flex align-middle"},c<3?l.a.createElement("img",{src:a(152),alt:"",onClick:function(){return d(c+1)}}):l.a.createElement("span",null))),function(){if(1===c)return l.a.createElement(w.a,{key:"left",placement:"left",overlay:l.a.createElement(N.a,{id:"tooltip-".concat("left")},"Click here to see the complete tutorial of the page")},l.a.createElement("div",{style:{cursor:"pointer"},onClick:m},e))}(),l.a.createElement(k.a,{steps:t,isOpen:s,onRequestClose:function(){u(!1)},onAfterOpen:function(e){Object(O.a)(e)},onBeforeClose:function(e){Object(O.b)(e)}}))},j=a(129),S=(a(153),a(126)),T={labels:["Scatter1","Scatter2"],datasets:[{backgroundColor:"rgba(75,192,192,0.6)",pointBorderColor:"rgba(75,192,192,1)",pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointBackgroundColor:"#fff",label:"Toxic speech",pointRadius:5,data:[]},{backgroundColor:"rgba(56, 135, 111, 0.6)",pointBorderColor:"rgba(56, 135, 111,1)",pointHoverBackgroundColor:"rgba(56, 135, 111,1)",pointHoverBorderColor:"rgba(56, 135, 111,1)",pointBackgroundColor:"#fff",label:"Non-Toxic speech",pointRadius:5,data:[]}]},A={scales:{xAxes:[{gridLines:{drawOnChartArea:!1,color:"#131c2b"},scaleLabel:{display:!0,labelString:"Toxicity probability"},ticks:{suggestedMin:0,maxTicksLimit:5,suggestedMax:1}}],yAxes:[{gridLines:{drawOnChartArea:!1,color:"#131c2b"},scaleLabel:{display:!0,labelString:"AAE dialect probability"},ticks:{suggestedMin:0,maxTicksLimit:5,suggestedMax:1}}]}},_=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getResult()}},{key:"componentDidUpdate",value:function(){this.getResult()}},{key:"getResult",value:function(){fetch("/classifier").then((function(e){return e.json()})).then((function(e){var t=[],a=[];e.toxicity.map((function(n,l){n>.5?t.push({x:n,y:e.dialect[l]}):a.push({x:n,y:e.dialect[l]})})),T.datasets[0].data=t,T.datasets[1].data=a,console.log(T)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"text-center"},l.a.createElement(S.Scatter,{data:T,options:A}))}}]),a}(n.Component),D=["data1","data2","data3"],B=[{title:"A Benchmark Dataset for Learning to Intervene in Online Hate Speech",author:"Jing Qian et al.",tweet_num:5e3,categories:2,abuse_rate:.8}],R=function(){var e=Object(y.c)((function(e){return e.data})),t=Object(y.b)();return l.a.createElement("div",{className:"visual-dataset"},l.a.createElement("ul",null,D.map((function(n,c){return l.a.createElement("li",{key:c+1}," ",l.a.createElement("input",{type:"radio",name:"dataset",value:n,onClick:function(){return t({type:"CHANGE_DATA",dataset:c})},checked:e===c}),"Data ",c+1,l.a.createElement(w.a,{key:"right",placement:"right",overlay:l.a.createElement(N.a,{id:"tooltip-".concat("right")},"Title : ",B[0].title," ",l.a.createElement("br",null),"Author : ",B[0].author," ",l.a.createElement("br",null),"Number of Tweets : ",B[0].tweet_num," ",l.a.createElement("br",null),"Categories: ",B[0].categories," ",l.a.createElement("br",null),"Abuse rate: ",B[0].abuse_rate)},l.a.createElement("img",{src:a(248),alt:"",className:"info-icon"})))}))))},I=["model1","model2","model3"],M=function(){var e=Object(y.c)((function(e){return e.model})),t=Object(y.b)();return l.a.createElement("div",{className:"visual-dataset visual-model-new"},l.a.createElement("ul",null,I.map((function(a,n){return l.a.createElement("li",{key:n+1}," ",l.a.createElement("input",{type:"radio",name:"model",value:a,onClick:function(){return t({type:"CHANGE_MODEL",model:n})},checked:e===n})," Model ",n+1," ")}))))},H=function(){var e=Object(n.useState)("active"),t=Object(f.a)(e,2),c=t[0],r=t[1],o=Object(n.useState)(""),i=Object(f.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(""),d=Object(f.a)(m,2),h=d[0],p=d[1],E=Object(n.useState)([]),b=Object(f.a)(E,2),v=b[0],g=b[1];function y(e){console.log(e),"dataset-tab"===e&&""===c?(r("active"),u("")):"model-tab"===e&&""===s&&(r(""),u("active"))}return l.a.createElement("div",{className:"visualization-new"},l.a.createElement("div",{className:"visualization-new-container"},l.a.createElement("div",{className:"graph-left"},l.a.createElement("h1",null," Abusive Speech Detection Result "),l.a.createElement("div",{className:"scatter-chart"},l.a.createElement(_,{width:10,height:10})),l.a.createElement("div",{className:"associated-words"},l.a.createElement("form",{className:"form-inline"},l.a.createElement("label",null," Associated words: "),l.a.createElement("input",{className:"form-control ml-4",type:"text",value:h,onChange:function(e){p(e.target.value)},onKeyDown:function(e){if(13===e.keyCode){e.preventDefault();var t=e.target.value;g([].concat(Object(j.a)(v),[t])),p("")}}}),l.a.createElement(w.a,{key:"top",placement:"top",overlay:l.a.createElement(N.a,{id:"tooltip-".concat("top")},"Specify words that must be included in the dataset and exclude the rest of dataset. For example, inputting 'ugly' means the data processed are only tweets that contain 'ugly' in it.")},l.a.createElement("img",{src:a(249),alt:"",id:"help-tag"})),l.a.createElement("button",{className:"btn btn-green ml-4",onClick:function(e){e.preventDefault()}}," Reload ")),l.a.createElement("ul",{className:"word-container"},v.map((function(e,t){return l.a.createElement("li",{key:t,className:"word-tag"},l.a.createElement("span",null," ",e," "),l.a.createElement("img",{src:a(250),alt:"",onClick:(n=t,function(){g(v.filter((function(e,t){return t!==n})))})}));var n}))))),l.a.createElement("div",{className:"interactive-right"},l.a.createElement("div",{id:"interactive-controller"},l.a.createElement("div",{className:"d-flex interact-tab"},l.a.createElement("div",{className:"interactive-choice "+c,id:"dataset-tab",onClick:function(e){return y(e.currentTarget.id)}}," DATASET "),l.a.createElement("div",{className:"interactive-choice "+s,id:"model-tab",onClick:function(e){return y(e.currentTarget.id)}}," MODEL ")),l.a.createElement("div",{className:"interact-container"},"active"===c?l.a.createElement(R,null):l.a.createElement(M,null)),l.a.createElement("div",{className:"load-btn"},l.a.createElement("button",{type:"button",className:"btn btn-green"}," Build Model "))),l.a.createElement("div",{id:"visual-result"},l.a.createElement("h3",null," Result "),l.a.createElement("div",{id:"result-table"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Class"),l.a.createElement("th",{scope:"col"},"Pblack"),l.a.createElement("th",{scope:"col"},"Pwhite"),l.a.createElement("th",{scope:"col"},"Pblack/Pwhite"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Racism"),l.a.createElement("td",null," 0.001 "),l.a.createElement("td",null," 0.003 "),l.a.createElement("td",null," 0.505 ")),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Sexism"),l.a.createElement("td",null," 0.083 "),l.a.createElement("td",null," 0.048 "),l.a.createElement("td",null," 1.724 ")))))))))},L=(a(251),a(49)),P=a(16),z=a(127),U=function(){var e=Object(n.useRef)(null),t=["Model 1","Model 2","Model 3"],a=Object(n.useState)(""),c=Object(f.a)(a,2),r=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(f.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)("Choose a model..."),E=Object(f.a)(d,2),b=E[0],v=E[1],g=Object(n.useState)({compare:"d-none",choice:""}),y=Object(f.a)(g,2),w=y[0],N=y[1],k=Object(n.useState)("Compare"),O=Object(f.a)(k,2),C=O[0],x=O[1];var j=function(){return m(!1)},S=new Date;return l.a.createElement("div",{className:"mitigation-new"},l.a.createElement("div",{className:"submit-mitigation text-center"},l.a.createElement("h3",null," Submit your mitigation algorithm! "),l.a.createElement("form",{className:"form-inline justify-content-center"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:r,readOnly:!0}),l.a.createElement("button",{onClick:function(t){e.current.click()},className:"btn btn-green"}," Upload a file ")),l.a.createElement("input",{type:"file",name:"file",onChange:function(e){console.log(e.target.files[0]),o(e.target.files[0].name)},ref:e,style:{display:"none"}})),l.a.createElement("div",{className:"submit-history"},l.a.createElement("h5",null," History "),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"id-col"},"ID"),l.a.createElement("th",null,"INPUT"),l.a.createElement("th",null,"SUBMITTED AT"),l.a.createElement("th",null,"RESULT"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"id-col"}," 1 "),l.a.createElement("td",null," bias_mitigation.ipynb"),l.a.createElement("td",null," ",S.getFullYear()+"-"+S.getMonth()+"-"+S.getDate()+" "+S.getHours()+":"+S.getMinutes()," "),l.a.createElement("td",null," ",l.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return m(!0)}}," Show ")))))),l.a.createElement(L.a,{show:u,onHide:j,className:"mw-75"},l.a.createElement(L.a.Header,{closeButton:!0},l.a.createElement(L.a.Title,null," Result ")),l.a.createElement(L.a.Body,{className:"text-center"},l.a.createElement("h5",null," Your result after debiasing"),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Class"),l.a.createElement("th",{scope:"col"},"Pblack"),l.a.createElement("th",{scope:"col"},"Pwhite"),l.a.createElement("th",{scope:"col"},"Pblack/Pwhite"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Racism"),l.a.createElement("td",null," 0.001 "),l.a.createElement("td",null," 0.003 "),l.a.createElement("td",null," 0.505 ")),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Sexism"),l.a.createElement("td",null," 0.083 "),l.a.createElement("td",null," 0.048 "),l.a.createElement("td",null," 1.724 ")))),l.a.createElement(h.a,{className:w.choice},l.a.createElement(p.a,{className:"d-flex align-items-center justify-content-end"}," ",l.a.createElement("h6",null," Compare with a model: ")),l.a.createElement(p.a,{className:"d-flex align-items-center justify-content-start"},l.a.createElement(z.a,{id:"dropdown-basic-button",title:b},t.map((function(e,a){return l.a.createElement(P.a.Item,{key:a,onClick:function(){v(t[a])}},e)}))))),l.a.createElement("div",{className:"compare-model "+w.compare},l.a.createElement("h5",null," ",b," without debiasing "),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Class"),l.a.createElement("th",{scope:"col"},"Pblack"),l.a.createElement("th",{scope:"col"},"Pwhite"),l.a.createElement("th",{scope:"col"},"Pblack/Pwhite"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Racism"),l.a.createElement("td",null," 0.001 "),l.a.createElement("td",null," 0.003 "),l.a.createElement("td",null," 0.505 ")),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Sexism"),l.a.createElement("td",null," 0.083 "),l.a.createElement("td",null," 0.048 "),l.a.createElement("td",null," 1.724 ")))))),l.a.createElement(L.a.Footer,null,l.a.createElement("button",{className:"btn btn-secondary",onClick:j},"Close"),l.a.createElement("button",{className:"btn btn-primary",onClick:function(){"Compare"===C?(N({compare:"",choice:"d-none"}),x("Change Comparison")):(N({compare:"d-none",choice:""}),x("Compare"))}},C))))},F=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={current_step:1,curr_time:""},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){console.log("updated in parent"),this.updateCurrentStep()}},{key:"componentDidMount",value:function(){console.log(this.props.location),this.updateCurrentStep()}},{key:"updateCurrentStep",value:function(){var e=this.props.location.pathname;e.includes("visualization")&&2!==this.state.current_step?this.setState({current_step:2}):e.includes("evaluation")&&3!==this.state.current_step?this.setState({current_step:3}):e.includes("mitigation")&&4!==this.state.current_step?this.setState({current_step:4}):e.includes("comparison")&&5!==this.state.current_step?this.setState({current_step:5}):e.includes("fin")&&6!==this.state.current_step&&this.setState({current_step:6})}},{key:"render",value:function(){return l.a.createElement("div",{className:"main-application"},l.a.createElement(x,null),l.a.createElement(b.c,null,l.a.createElement(b.a,{path:"/visualization",component:H}),l.a.createElement(b.a,{path:"/test",component:U})))}}]),a}(n.Component);var G=function(){return l.a.createElement("div",null,l.a.createElement(b.c,null,l.a.createElement(b.a,{exact:!0,path:"/",component:E}),l.a.createElement(b.a,{path:"/",component:F})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return null}}]),a}(l.a.Component),X=(Object(b.f)(V),a(39)),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_MODEL":return t.model;default:return e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_DATA":return t.dataset;default:return e}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEXT_SECTION":return e+1;case"PREV_SECTION":return e-1;case"SET_SECTION":return t.section;default:return e}},q=Object(X.b)({model:J,data:W,section:Y}),K=Object(X.c)(q,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(l.a.createElement(o.a,null,l.a.createElement(y.a,{store:K},l.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[134,1,2]]]);
//# sourceMappingURL=main.411afe28.chunk.js.map