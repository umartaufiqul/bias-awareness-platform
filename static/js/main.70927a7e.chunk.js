(this["webpackJsonpbias-awareness-platform"]=this["webpackJsonpbias-awareness-platform"]||[]).push([[0],{137:function(e,t,a){e.exports=a(255)},142:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},150:function(e,t,a){},154:function(e,t,a){e.exports=a.p+"static/media/left-arrow.4d84261b.svg"},155:function(e,t,a){e.exports=a.p+"static/media/right-arrow.913fa54f.svg"},156:function(e,t,a){},251:function(e,t,a){e.exports=a.p+"static/media/info.cffe9e14.svg"},253:function(e,t,a){},255:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(11),r=a.n(c),i=a(53),o=(a(142),a(143),a(144),a(69)),s=a(70),m=a(85),u=a(83),d=(a(145),n.Component,a(48));var h=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(d.a,{className:"intro-navbar"},l.a.createElement(d.a.Brand,{id:"intro-span"},"Bias Awareness Platform")),l.a.createElement("div",{className:"introduction-page"},l.a.createElement("h1",{className:"text-center"}," Activity 1. Bias in Hate Speech Detection "),l.a.createElement("p",null," Hate speech detection is commonly used in social media context, such as facebook and twitter, in order to filter out post that are deemed hateful or abusive. However, many papers pointed out that hate speech detection technology, such as perspective AI, are biased toward flagging more tweets that use AAE (African-American English) dialect. "),l.a.createElement("p",null," In this activity, you will be able to explore and interactive platform where you can combine several different models with dataset, and observe how some combinations may affect the fairness of the of model "),l.a.createElement("p",null," You will also need to submit a model suspected of being biased that you have mitigate the bias with a debiasing technique, and see how it compare with the original model"),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-green start-btn"}," ",l.a.createElement("a",{href:"/bias-awareness-platform/#/visualization"},"Start Activity ")))))},p=a(9),b=a(10),E=a(6),f=a(61),g=(a(150),a(88)),v=a(28),w=a(56),y=a(55),k=a(132),N=a(103),O=function(e){return{type:"SET_SECTION",section:e}},x=function(){var e=l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"white"},l.a.createElement("path",{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm1.25 17c0 .69-.559 1.25-1.25 1.25-.689 0-1.25-.56-1.25-1.25s.561-1.25 1.25-1.25c.691 0 1.25.56 1.25 1.25zm1.393-9.998c-.608-.616-1.515-.955-2.551-.955-2.18 0-3.59 1.55-3.59 3.95h2.011c0-1.486.829-2.013 1.538-2.013.634 0 1.307.421 1.364 1.226.062.847-.39 1.277-.962 1.821-1.412 1.343-1.438 1.993-1.432 3.468h2.005c-.013-.664.03-1.203.935-2.178.677-.73 1.519-1.638 1.536-3.022.011-.924-.284-1.719-.854-2.297z"})),t=[{selector:"",content:function(){return l.a.createElement("div",null,l.a.createElement("h3",{className:"text-center"}," Exploring Abusive Speech Detection "),l.a.createElement("p",null," In this page, you can interactively explore the combination of different datasets and models for the abusive speech detection, and observe how it affect the distribution and fairness of the result"))}},{selector:"#interactive-controller",content:function(){return l.a.createElement("div",null,l.a.createElement("h3",{className:"text-center"}," Dataset and Model "),l.a.createElement("p",null," In this part, you can change the model and dataset used for classification. "),l.a.createElement("p",null,' Try several combinations to see how they interact with each other. Don\'t forget to click the "Build Model" button everytime you want to try the new combination'))}},{selector:".scatter-chart",content:function(){return l.a.createElement("div",null,l.a.createElement("h3",{style:{textAlign:"center"}}," Graph "),l.a.createElement("p",null," This graph plot each of the feedback\u2019s probability of being toxic against the probability of it using AAE dialect. The higher its toxic probability, the higher it chance to be classified as toxic "),l.a.createElement("p",null," The higher its toxic probability, the higher it chance to be classified as toxic. On the other hand, the higher its AAE dialect probability, the higher it is to come from African American students"))}},{selector:"#visual-result",content:function(){return l.a.createElement("div",null,l.a.createElement("h3",{className:"text-center"}," Result Box "),l.a.createElement("p",null," The result box display not only the accuracy result for the model, but also the distribution of each class with each label "))}},{selector:".associated-words",content:function(){return l.a.createElement("div",null,l.a.createElement("h3",{className:"text-center"}," Associated Words "),l.a.createElement("p",null," In this part, you can enter word(s) that you want to include in the dataset. For example, if you inputted 'ugly' and press ENTER, then the dataset will only include tweets that contain the word 'ugly' in it, and exclude the rest."),l.a.createElement("p",null,' Once you put all the words you want to include, don\'t forget to click the "Reload" button to reload the model!'))}}],c=Object(b.c)((function(e){return e.section})),r=Object(b.b)(),i=Object(n.useState)(!1),o=Object(E.a)(i,2),s=o[0],m=o[1];function u(){m(!0)}function h(e){switch(console.log(e),e){case 1:window.location.href="/bias-awareness-platform/#/visualization",r(O(1));break;case 2:window.location.href="/bias-awareness-platform/#/mitigation",r(O(2));break;case 3:window.location.href="/bias-awareness-platform/#/evaluation",r(O(3));break;default:alert("No such page!")}}Object(n.useEffect)((function(){window.location.href.includes("mitigation")?r(O(2)):window.location.href.includes("visualization")?r(O(1)):window.location.href.includes("evaluation")?r(O(3)):window.location.href.includes("fin")&&r(O(4))}));return l.a.createElement(d.a,{className:"justify-content-center",id:"navbar"},l.a.createElement(d.a.Brand,{id:"navbar-brand"},"Bias Awareness Platform"),l.a.createElement(g.a,{className:"mx-auto"},l.a.createElement(v.a,{className:"d-flex align-middle"},c>1&&c<3?l.a.createElement("img",{src:a(154),alt:"",onClick:function(){return h(c-1)}}):l.a.createElement("span",{style:{height:"16px",width:"16px"}})),l.a.createElement(v.a,null,c>0&&c<3?l.a.createElement(f.a,{title:["1. Visualization","2. Debiasing"][c-1],className:"text-left",id:"navbar-dropdown"},l.a.createElement(f.a.Item,{href:"/bias-awareness-platform/#/visualization"},"1. Visualization"),l.a.createElement(f.a.Item,{href:"/bias-awareness-platform/#/mitigation"}," 2. Debiasing ")):l.a.createElement("div",{style:{height:"2.5rem"}})),l.a.createElement(v.a,{className:"d-flex align-middle"},c>0&&c<2?l.a.createElement("img",{src:a(155),alt:"",onClick:function(){return h(c+1)}}):l.a.createElement("span",{style:{height:"16px",width:"16px"}}," "))),function(){if(1===c)return l.a.createElement("div",{className:"tutorial-button"},l.a.createElement(w.a,{key:"left",placement:"left",overlay:l.a.createElement(y.a,{id:"tooltip-".concat("left")},"Click here to see the complete tutorial of the page")},l.a.createElement("div",{style:{cursor:"pointer"},onClick:u},e)))}(),l.a.createElement(k.a,{steps:t,isOpen:s,onRequestClose:function(){m(!1)},onAfterOpen:function(e){Object(N.a)(e)},onBeforeClose:function(e){Object(N.b)(e)}}))},j=a(49),C=(a(156),a(131)),T=function(e){var t={labels:["Scatter1","Scatter2"],datasets:[{backgroundColor:"rgba(75,192,192,0.6)",pointBorderColor:"rgba(75,192,192,1)",pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointBackgroundColor:"#fff",label:e.catName+" speech",pointRadius:5,data:[]},{backgroundColor:"rgba(56, 135, 111, 0.6)",pointBorderColor:"rgba(56, 135, 111,1)",pointHoverBackgroundColor:"rgba(56, 135, 111,1)",pointHoverBorderColor:"rgba(56, 135, 111,1)",pointBackgroundColor:"#fff",label:"Non-"+e.catName+" speech",pointRadius:5,data:[]}]},a={responsive:!0,maintainAspectRatio:!0,aspectRatio:1,scales:{xAxes:[{gridLines:{drawOnChartArea:!1,color:"#131c2b"},scaleLabel:{display:!0,labelString:e.catName+" probability"},ticks:{suggestedMin:0,maxTicksLimit:5,suggestedMax:1}}],yAxes:[{gridLines:{drawOnChartArea:!1,color:"#131c2b"},scaleLabel:{display:!0,labelString:"AAE dialect probability"},ticks:{suggestedMin:0,maxTicksLimit:5,suggestedMax:1}}]}};return Object(n.useEffect)((function(){fetch("/classifier").then((function(e){return e.json()})).then((function(e){var a=[],n=[];e.toxicity.map((function(t,l){t>.5?a.push({x:t,y:e.dialect[l]}):n.push({x:t,y:e.dialect[l]})})),t.datasets[0].data=a,t.datasets[1].data=n,console.log(t)}))})),l.a.createElement("div",{className:"text-center"},l.a.createElement("div",{style:{position:"relative",overflowY:"auto"}},l.a.createElement(C.Scatter,{data:t,options:a})))},A=["data1","data2","data3"],S=[{title:"A Benchmark Dataset for Learning to Intervene in Online Hate Speech",author:"Jing Qian et al.",tweet_num:5e3,categories:2,abuse_rate:.8}],_=function(){var e=Object(b.c)((function(e){return e.data})),t=Object(b.b)();return l.a.createElement("div",{className:"visual-dataset"},l.a.createElement("ul",null,A.map((function(n,c){return l.a.createElement("li",{key:c+1,style:{width:"auto"}}," ",l.a.createElement("input",{type:"radio",name:"dataset",value:n,onClick:function(){return t({type:"CHANGE_DATA",dataset:c})},checked:e===c}),l.a.createElement("label",{htmlFor:n,style:{marginLeft:"8px",marginBottom:"0px"}}," Data ",c+1," "),l.a.createElement(w.a,{key:"right",placement:"right",overlay:l.a.createElement(y.a,{id:"tooltip-".concat("right"),className:"text-align-left"},"Title : ",S[0].title," ",l.a.createElement("br",null),"Author : ",S[0].author," ",l.a.createElement("br",null),"Number of Tweets : ",S[0].tweet_num," ",l.a.createElement("br",null),"Categories: ",S[0].categories," ",l.a.createElement("br",null),"Abuse rate: ",S[0].abuse_rate)},l.a.createElement("img",{src:a(251),alt:"",className:"info-icon"})))}))))},I=["model1","model2","model3"],D=function(){var e=Object(b.c)((function(e){return e.model})),t=Object(b.b)();return l.a.createElement("div",{className:"visual-dataset visual-model-new"},l.a.createElement("ul",null,I.map((function(a,n){return l.a.createElement("li",{key:n+1}," ",l.a.createElement("input",{type:"radio",name:"model",value:a,onClick:function(){return t({type:"CHANGE_MODEL",model:n})},checked:e===n}),l.a.createElement("label",{htmlFor:a,style:{marginLeft:"8px",marginBottom:"0px"}},"Model ",n+1," ")," ")}))))},R=a(13),L=a(44),B=function(e){var t=e.accStat,a=e.resultStat,c=e.resultAvailable,r=Object(n.useState)("report"),i=Object(E.a)(r,2),o=i[0],s=i[1];Object(n.useEffect)((function(){console.log("test for change in props"+c)}));var m=l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Class"),l.a.createElement("th",{scope:"col"},"Precision"),l.a.createElement("th",{scope:"col"},"Recall"),l.a.createElement("th",{scope:"col"},"f1-score"),l.a.createElement("th",{scope:"col"},"Support"))),l.a.createElement("tbody",null,t.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("th",{scope:"row"}," ",e.class),l.a.createElement("td",null," ",e.precision," "),l.a.createElement("td",null," ",e.recall," "),l.a.createElement("td",null," ",e.f1_score," "),l.a.createElement("td",null," ",e.support," "))})))),u=l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Class"),l.a.createElement("th",{scope:"col"},"Pblack"),l.a.createElement("th",{scope:"col"},"Pwhite"),l.a.createElement("th",{scope:"col"},"Pblack/Pwhite"))),l.a.createElement("tbody",null,a.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("th",{scope:"row"}," ",e.class),l.a.createElement("td",null," ",e.pblack," "),l.a.createElement("td",null," ",e.pwhite," "),l.a.createElement("td",null," ",e.pblack_white," "))}))));function d(e){s(e)}return c?l.a.createElement("div",{style:{marginTop:"1rem"}},l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("div",{className:"report"===o?"explore-choice active":"explore-choice",style:{fontSize:"12px"},onClick:function(){return d("report")}}," Report "),l.a.createElement("div",{className:"dist"===o?"explore-choice active":"explore-choice",style:{fontSize:"12px"},onClick:function(){return d("dist")}}," Distribution ")),l.a.createElement("div",{id:"result-table",style:{overflow:"auto",height:"inherit"}},"report"===o?m:u)):l.a.createElement("div",{style:{marginTop:"1rem",padding:"0rem 5rem"}},l.a.createElement("h3",{style:{marginTop:"5rem",color:"#676767"}}," No result to display "),l.a.createElement("p",null," There is no model that has been built yet. You can build a model using the model builder panel on the right side of the page. "))},H=a(33),M=a(20),P=function(e){var t=e.categoryList,a=e.tweetListSample,c=Object(n.useState)([]),r=Object(E.a)(c,2),i=r[0],o=r[1],s=Object(n.useState)(1),m=Object(E.a)(s,2),u=m[0],d=m[1],h=Object(n.useState)(a.length),p=Object(E.a)(h,2),b=p[0],f=p[1],g=Object(n.useState)(!1),v=Object(E.a)(g,2),w=v[0],y=v[1],k=Object(n.useState)(10),N=Object(E.a)(k,2),O=N[0];N[1];function x(e){d(e)}return Object(n.useEffect)((function(){for(var e=[],a=0;a<t.length;a++)e.push(!0);o(e)}),[t.length]),Object(n.useEffect)((function(){}),[b.length]),l.a.createElement("div",{className:"explore-container",style:{marginTop:"1rem",padding:"0rem 2rem",overflowY:"scroll"}},l.a.createElement("h1",null," Exploring Dataset "),l.a.createElement("table",{className:"table",style:{margin:"2rem 1rem",tableLayout:"fixed"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"50px"}},"No"),l.a.createElement("th",null,"Tweet"),l.a.createElement("th",{style:{width:"150px"}},l.a.createElement(L.a,{id:"dropdown-basic-button",title:"Label"},l.a.createElement(H.a,{className:"text-center"},t.map((function(e,t){return l.a.createElement(H.a.Check,{key:t,type:"checkbox",label:e,defaultChecked:i[t],onClick:function(){return function(e){var t=Object(j.a)(i);t[e]=!i[e],console.log(e),console.log(t),o(t),y(!0)}(t)}})}))))))),l.a.createElement("tbody",null,function(e,a){var n=Object(j.a)(e),c=(n=n.filter((function(e){return i[t.findIndex((function(t){return t===e.label}))]}))).slice(0+a*(u-1),a*u);return w&&(f(n.length),y(!1)),c.map((function(e,t){return l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"50px"}}," ",a*(u-1)+t+1," "),l.a.createElement("td",null," ",e.tweet," "),l.a.createElement("td",{style:{width:"150px"}}," ",e.label," "))}))}(a,O))),function(e){var t=Math.ceil(b/e);console.log(t);var a=[l.a.createElement(M.a.First,{style:{width:"auto",margin:"0rem"},onClick:function(){return d(1)}}),l.a.createElement(M.a.Prev,{style:{width:"auto",margin:"0rem"},disabled:1===u,onClick:function(){return d(u-1)}})];if(t>3){if(u>3&&a.push(l.a.createElement(M.a.Ellipsis,{style:{width:"auto",margin:"0rem"},disabled:!0})),u>=t-2&&u<=t)for(var n=function(e){a.push(l.a.createElement(M.a.Item,{key:e,style:{width:"auto",margin:"0rem"},className:e===u?"page-item active":"page-item",onClick:function(){return x(e)}}," ",e," "))},c=t-2;c<t+1;c++)n(c);else if(u>=1&&u<=3)for(var r=function(e){a.push(l.a.createElement(M.a.Item,{key:e,style:{width:"auto",margin:"0rem"},className:e===u?"page-item active":"page-item",onClick:function(){return x(e)}}," ",e," "))},i=1;i<4;i++)r(i);else for(var o=function(e){a.push(l.a.createElement(M.a.Item,{key:e,style:{width:"auto",margin:"0rem"},className:e===u?"page-item active":"page-item",onClick:function(){return x(e)}}," ",e," "))},s=u-1;s<2+u&&s<t+1;s++)o(s);u<t-2&&a.push(l.a.createElement(M.a.Ellipsis,{style:{width:"auto",margin:"0rem"},disabled:!0}))}else for(var m=function(e){a.push(l.a.createElement(M.a.Item,{key:e+1,style:{width:"auto",margin:"0rem"},className:e+1===u?"page-item active":"page-item",onClick:function(){return x(e+1)}}," ",e+1," "))},h=0;h<t&&h<t+1;h++)m(h);return a.push(l.a.createElement(M.a.Next,{style:{width:"auto",margin:"0rem"},disabled:u===t,onClick:function(){return d(u+1)}})),a.push(l.a.createElement(M.a.Last,{style:{width:"auto",margin:"0rem"},onClick:function(){return d(t)}})),l.a.createElement(M.a,{className:"justify-content-center",style:{padding:"0rem"}},a)}(O))},z=function(){var e=Object(n.useState)("active"),t=Object(E.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),i=Object(E.a)(r,2),o=i[0],s=i[1],m=Object(n.useState)(""),u=Object(E.a)(m,2),d=(u[0],u[1],Object(n.useState)([])),h=Object(E.a)(d,2),p=(h[0],h[1],Object(n.useState)(["Hateful","Abusive","neither"])),f=Object(E.a)(p,2),g=f[0],v=(f[1],Object(n.useState)(g[0])),w=Object(E.a)(v,2),y=w[0],k=w[1],N=Object(n.useState)("data"),O=Object(E.a)(N,2),x=O[0],C=O[1],A=Object(n.useState)(!1),S=Object(E.a)(A,2),I=S[0],H=S[1],M=Object(b.c)((function(e){return e.loaderActive})),z=Object(b.b)(),Y=[{tweet:"Tweet sample but I nned to make it long so forgive me for the length okay",label:"neither"},{tweet:"Tweet sample but I need to make it long so forgive me for the length okay",label:"Hateful"},{tweet:"Tweet sample but I nned to make it long so forgive me for the length okay",label:"Abusive"},{tweet:"Tweet sample but I nned to make it long so forgive me for the length okay",label:"neither"},{tweet:"Tweet sample but I need to make it long so forgive me for the length okay",label:"Hateful"},{tweet:"Tweet sample but I nned to make it long so forgive me for the length okay",label:"Abusive"},{tweet:"Tweet sample but I nned to make it long so forgive me for the length okay",label:"neither"},{tweet:"Tweet sample but I need to make it long so forgive me for the length okay",label:"Hateful"},{tweet:"Tweet sample but I nned to make it long so forgive me for the length okay",label:"Abusive"},{tweet:"Tweet sample but I nned to make it long so forgive me for the length okay",label:"neither"},{tweet:"Tweet sample but I need to make it long so forgive me for the length okay",label:"Hateful"},{tweet:"Tweet sample but I nned to make it long so forgive me for the length okay",label:"Abusive"}];function V(e){console.log(e),"dataset-tab"===e&&""===a?(c("active"),s("")):"model-tab"===e&&""===o&&(c(""),s("active"))}function F(e){C(e)}return l.a.createElement("div",{className:"visualization-new"},l.a.createElement("div",{className:"loader "+M},l.a.createElement("h3",null," Please wait a moment "),l.a.createElement("p",{style:{marginTop:"1rem"}}," Your model is current being built."),l.a.createElement("div",{className:"spinner"})),l.a.createElement("div",{className:"visualization-new-container"},l.a.createElement("div",{className:"graph-left"},l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("div",{className:"data"===x?"explore-choice active":"explore-choice",onClick:function(){return F("data")}}," Data "),l.a.createElement("div",{className:"result"===x?"explore-choice active":"explore-choice",onClick:function(){return F("result")}}," Result ")),"result"===x?I?l.a.createElement("div",{className:"explore-container",style:{marginTop:"1rem"}},l.a.createElement("h1",null," Abusive Speech Detection Result "),l.a.createElement("div",{className:"scatter-chart",style:{position:"relative",overflowY:"auto"}},l.a.createElement(T,{width:10,height:10,catName:y}),l.a.createElement("form",{className:"form-inline justify-content-center align-item-center",style:{marginTop:"1rem"}},l.a.createElement("label",{style:{marginRight:"1rem"}}," ",l.a.createElement("h6",null," Class: ")),l.a.createElement(L.a,{id:"dropdown-basic-button",title:y},function(){var e=Object(j.a)(g);return e.pop(),e.map((function(e,t){return l.a.createElement(R.a.Item,{key:t,onClick:(a=t,function(){k(g[a])})},e);var a}))}())))):l.a.createElement("div",{style:{marginTop:"1rem",padding:"0rem 5rem"}},l.a.createElement("h1",null," Abusive Speech Detection Result "),l.a.createElement("h3",{style:{marginTop:"20%",color:"#676767"}}," No result to display "),l.a.createElement("p",null," There is no model that has been built yet. You can build a model using the model builder panel on the right side of the page. ")):l.a.createElement(P,{categoryList:g,tweetListSample:Y})),l.a.createElement("div",{className:"interactive-right"},l.a.createElement("div",{id:"interactive-controller"},l.a.createElement("div",{className:"d-flex interact-tab"},l.a.createElement("div",{className:"interactive-choice "+a,id:"dataset-tab",onClick:function(e){return V(e.currentTarget.id)}}," DATASET "),l.a.createElement("div",{className:"interactive-choice "+o,id:"model-tab",onClick:function(e){return V(e.currentTarget.id)}}," MODEL ")),l.a.createElement("div",{className:"interact-container"},"active"===a?l.a.createElement(_,null):l.a.createElement(D,null)),l.a.createElement("div",{className:"load-btn"},l.a.createElement("button",{type:"button",className:"btn btn-green",onClick:function(e){e.preventDefault(),z({type:"LOADER_ACTIVE"}),setTimeout((function(){z({type:"LOADER_DEACTIVE"}),H(!0),C("result"),alert("The model has been built")}),5e3)}}," Build Model "))),l.a.createElement("div",{id:"visual-result"},l.a.createElement("h3",null," Result "),l.a.createElement(B,{resultStat:[{class:"Racism",pblack:.001,pwhite:.003,pblack_white:.005},{class:"Sexism",pblack:.083,pwhite:.048,pblack_white:1.724}],accStat:[{class:"Racism",precision:.77,recall:.86,f1_score:.81,support:3756},{class:"Sexism",precision:.84,recall:.75,f1_score:.79,support:1344}],resultAvailable:I})))))},Y=(a(253),a(50)),V=function(){var e=Object(n.useRef)(null),t=["Model 1","Model 2","Model 3"],a=Object(n.useState)(""),c=Object(E.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(!1),s=Object(E.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)("Choose a model..."),h=Object(E.a)(d,2),p=h[0],f=h[1],w=Object(n.useState)({compare:"d-none",choice:""}),y=Object(E.a)(w,2),k=y[0],N=y[1],O=Object(n.useState)("Compare"),x=Object(E.a)(O,2),j=x[0],C=x[1],T=Object(n.useState)(""),A=Object(E.a)(T,2),S=A[0],_=A[1],I=Object(n.useState)(""),D=Object(E.a)(I,2),B=D[0],M=D[1],P=Object(b.c)((function(e){return e.loaderActive})),z=Object(b.b)();function V(e,t){"student-id"===t?_(e.target.value):M(e.target.value)}var F=function(){return u(!1)},U=new Date;return l.a.createElement("div",{className:"mitigation-new"},l.a.createElement("div",{className:"loader-bg "+P}),l.a.createElement("div",{className:"loader text-center "+P},l.a.createElement("h3",null," Please wait a moment "),l.a.createElement("p",{style:{marginTop:"1rem"}}," Your work is currently being submitted."),l.a.createElement("div",{className:"spinner"})),l.a.createElement("div",{className:"submit-mitigation text-center"},l.a.createElement("h3",null," Submit your mitigation algorithm! "),l.a.createElement("form",{className:" justify-content-center",style:{marginTop:"2rem"}},l.a.createElement(g.a,{className:"form-part"},l.a.createElement(v.a,{md:8,className:"align-item-center"},l.a.createElement("input",{type:"text",className:"form-control",value:r,readOnly:!0})),l.a.createElement(v.a,{md:4},l.a.createElement("button",{onClick:function(t){e.current.click()},className:"btn btn-green"}," Upload a file "))),l.a.createElement(H.a.Group,{as:g.a,className:"form-part"},l.a.createElement(H.a.Label,{column:!0,sm:"2"},"Student ID"),l.a.createElement(v.a,{sm:"3"},l.a.createElement("input",{type:"text",className:"form-control",value:S,onChange:function(e){return V(e,"student-id")}})),l.a.createElement(H.a.Label,{column:!0,sm:"2"},"Email"),l.a.createElement(v.a,{sm:"5"},l.a.createElement("input",{type:"text",className:"form-control",value:B,onChange:function(e){return V(e,"email")}}))),l.a.createElement("button",{className:"btn btn-green",style:{marginTop:"1rem"},onClick:function(){z({type:"LOADER_ACTIVE"});var e={email:B,id:S,file:r};console.log(e),setTimeout((function(){z({type:"LOADER_DEACTIVE"}),alert("Your model has been submitted")}),5e3),_(""),M(""),i("")}}," Submit ")),l.a.createElement("input",{type:"file",name:"file",onChange:function(e){console.log(e.target.files[0]),i(e.target.files[0].name)},ref:e,style:{display:"none"}})),l.a.createElement("div",{className:"submit-history"},l.a.createElement("h5",null," History "),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"id-col"},"ID"),l.a.createElement("th",null,"INPUT"),l.a.createElement("th",null,"SUBMITTED AT"),l.a.createElement("th",null,"RESULT"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"id-col"}," 1 "),l.a.createElement("td",null," bias_mitigation.ipynb"),l.a.createElement("td",null," ",U.getFullYear()+"-"+U.getMonth()+"-"+U.getDate()+" "+U.getHours()+":"+U.getMinutes()," "),l.a.createElement("td",null," ",l.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return u(!0)}}," Show ")))))),l.a.createElement(Y.a,{show:m,onHide:F,className:"mw-75"},l.a.createElement(Y.a.Header,{closeButton:!0},l.a.createElement(Y.a.Title,null," Result ")),l.a.createElement(Y.a.Body,{className:"text-center"},l.a.createElement("h5",null," Your result after debiasing"),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Class"),l.a.createElement("th",{scope:"col"},"Pblack"),l.a.createElement("th",{scope:"col"},"Pwhite"),l.a.createElement("th",{scope:"col"},"Pblack/Pwhite"))),l.a.createElement("tbody",null,[{class:"Racism",pblack:.001,pwhite:.003,pblack_white:.005},{class:"Sexism",pblack:.083,pwhite:.048,pblack_white:1.724}].map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("th",{scope:"row"}," ",e.class),l.a.createElement("td",null," ",e.pblack," "),l.a.createElement("td",null," ",e.pwhite," "),l.a.createElement("td",null," ",e.pblack_white," "))})))),l.a.createElement(g.a,{className:k.choice},l.a.createElement(v.a,{className:"d-flex align-items-center justify-content-end"}," ",l.a.createElement("h6",null," Compare with a model: ")),l.a.createElement(v.a,{className:"d-flex align-items-center justify-content-start"},l.a.createElement(L.a,{id:"dropdown-basic-button",title:p},t.map((function(e,a){return l.a.createElement(R.a.Item,{key:a,onClick:function(){f(t[a])}},e)}))))),l.a.createElement("div",{className:"compare-model "+k.compare},l.a.createElement("h5",null," ",p," without debiasing "),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Class"),l.a.createElement("th",{scope:"col"},"Pblack"),l.a.createElement("th",{scope:"col"},"Pwhite"),l.a.createElement("th",{scope:"col"},"Pblack/Pwhite"))),l.a.createElement("tbody",null,[[{class:"Racism",pblack:.001,pwhite:.003,pblack_white:.005},{class:"Sexism",pblack:.083,pwhite:.048,pblack_white:1.724}],[{class:"Racism",pblack:.001,pwhite:.003,pblack_white:.095},{class:"Sexism",pblack:.083,pwhite:.048,pblack_white:1.724}],[{class:"Racism",pblack:.001,pwhite:.031,pblack_white:.005},{class:"Sexism",pblack:.083,pwhite:.048,pblack_white:1.724}]][t.findIndex((function(e){return"Choose a model..."===p?"Model 1"===e:e===p}))].map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("th",{scope:"row"}," ",e.class),l.a.createElement("td",null," ",e.pblack," "),l.a.createElement("td",null," ",e.pwhite," "),l.a.createElement("td",null," ",e.pblack_white," "))})))))),l.a.createElement(Y.a.Footer,null,l.a.createElement("button",{className:"btn btn-secondary",onClick:F},"Close"),l.a.createElement("button",{className:"btn btn-primary",onClick:function(){"Compare"===j?(N({compare:"",choice:"d-none"}),C("Change Comparison")):(N({compare:"d-none",choice:""}),C("Compare"))}},j))))},F=function(){return l.a.createElement("div",{className:"evaluation",style:{minHeight:"90vh"}},l.a.createElement("div",{className:"evaluation-inner text-center",style:{padding:"1rem 0rem",minHeight:"40vh"}},l.a.createElement("h3",{style:{marginBottom:"2rem"}}," Form Submitted "),l.a.createElement("p",null," You have finished the activity! "),l.a.createElement("p",null,"As the platform is currently in development, feel free to leave any feedback or bug report here.")))},U=function(){var e=Object(b.c)((function(e){return e.loaderActive}));return l.a.createElement("div",{className:"main-application"},l.a.createElement("div",{className:"loader-bg "+e}),l.a.createElement(x,null),l.a.createElement(p.c,null,l.a.createElement(p.a,{path:"/visualization",component:z}),l.a.createElement(p.a,{path:"/fin",component:F}),l.a.createElement(p.a,{path:"/mitigation",component:V})))};var G=function(){return l.a.createElement("div",null,l.a.createElement(p.c,null,l.a.createElement(p.a,{exact:!0,path:"/",component:h}),l.a.createElement(p.a,{path:"/",component:U})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return null}}]),a}(l.a.Component),J=(Object(p.f)(X),a(41)),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_MODEL":return t.model;default:return e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_DATA":return t.dataset;default:return e}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEXT_SECTION":return e+1;case"PREV_SECTION":return e-1;case"SET_SECTION":return t.section;default:return e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"d-none",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADER_ACTIVE":return"";case"LOADER_DEACTIVE":return"d-none";default:return e}},K=Object(J.b)({model:W,data:q,section:Q,loaderActive:$}),Z=Object(J.c)(K,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(l.a.createElement(i.a,null,l.a.createElement(b.a,{store:Z},l.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[137,1,2]]]);
//# sourceMappingURL=main.70927a7e.chunk.js.map